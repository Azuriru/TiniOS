---- Febuary 5 ----

So this is an idea for an untitled future project.

The gist of it is:

The app is best experienced with the fullscreen feature, because the UI resembles a laptop, a windows at least.
Each app will open up a new "window", sorta like a window in a window ception.
The first time it starts, bundea will popup to explain the rules with a large fullscreen button that can be interacted with.

Tapping or pressing any key will make the dialogue go forward, and ofc there's an option to skip the tutorial

Once the tutorial is over, the button will minimize to the bottom right of the screen where it'll stay forever.

---- March 8 ----

Something funny I found earlier today:
"I can't wait for ElectronOS"
https://discord.com/channels/246075715714416641/246075715714416641/723799500820578366
"ChromeOS is just Linux with a coat of paint, I want the whole thing built with JS, CSS, and HTML"
https://discord.com/channels/246075715714416641/246075715714416641/723799963544584243
Here's your ElectronOS. Released the following year ;D

---- March 11 ----

I may need to like, change up the design a bit because, it's not that it's unachievable but it would look better a different way.
Maybe draw some inspiration from Windows 7?
Pinned to start, pinned to taskbar
DB todo?

---- March 16 ----

Note to self, the brief click animation on the Taskbar's context menu is caused by it replacing the previous element, thus since it gets removed and replaced really quickly the new one doesn't have the hover animation.

Saves me the time to make a click anim lmao.

---- March 17 ----

S U C C E S S F U L L Y made a working ish i18n :D

--

nvm. ran into more problems. ;;;;

--

THERE IS HOPE IN THIS CRUEL CRUEL WORLD AFTER ALL!!

---- March 18 ----

Music player that syncs from discord, mebbe

---- March 20 ----

Minified taskbar icon = 32px, around there
For comparison:
Big: https://cdn.discordapp.net/attachments/365561999532228608/822833974828072960/unknown.png
Smol: https://cdn.discordapp.com/attachments/365561999532228608/822834003195199508/unknown.png

Lock the taskbar: No dragging it to the other parts of the screen (wtf how am I gonna implement this)

---- March 21 ----

god figures the highest available quality of this screenshot is from the official microsoft docs. bless microsoft.

https://docs.microsoft.com/en-us/windows-hardware/customize/desktop/unattend/images/personalization-colors.png

Something that may probably come in handy:

ui.input({
    type: 'range',
    id: 'bd-hue-slider',
    min: 0,
    max: 360,
    value: pickerState.hue,
    events: {
        input: e => {
            pickerState.hue = Number(e.target.value);
        }
    }
});

---- March 22 ----

Fullscreen start menu: https://46c4ts1tskv22sdav81j9c69-wpengine.netdna-ssl.com/wp-content/uploads/prod/sites/2/2017/09/46239710b6b67b2febfa50da212d1220.gif
Resizable start menu: https://46c4ts1tskv22sdav81j9c69-wpengine.netdna-ssl.com/wp-content/uploads/prod/sites/2/2017/09/ba10821035bb23016d9f98f81bebc38c.gif

THANKFULLY I already implemented this shit and I need only add a handle for the start menu. phew

https://www.thewindowsclub.com/windows-10-system-settings
https://www.thewindowsclub.com/apps-features-settings-in-windows-10
https://www.thewindowsclub.com/time-language-settings-windows-10

---- March 24 ----

Calendar: https://www.windowscentral.com/sites/wpcentral.com/files/styles/xlarge/public/field/image/2016/12/change-windows-10-time-date-formats.jpg?itok=0YbBjh4I

---- March 26 ----

Normal settings categories: https://cdn.discordapp.com/attachments/238354899291734017/822875932079554590/unknown.png
About Device: https://cdn.discordapp.com/attachments/238354899291734017/822878941735288832/unknown.png

---- April 29 ----

App Previews: https://thumbs.gfycat.com/UnrealisticBeautifulAgama-mobile.mp4
App Previews with more than one: https://thumbs.gfycat.com/ImmaculateCompleteAardwolf-mobile.mp4

--

Figure out a way to account for more than one instance of the same app.
Current behaviors do not support this

Even if previews simply clone the outerHTML I still can't make more than one instance of an app that won't affect the others on click and such

waaa

hmm do I separate sessions and instances? They're kinda already split, individual sessions manage both the preview, window and etc of the app, maybe instances are just the ui ...?

Would like for there to be a way to update the title as well

--

Opera icon effects: https://i.vgy.me/ZjhznO.gif

---- May 8 ----

Open this if you're mad

0 - README.txt
1 - 10.txt
Epilogue.txt

Next life, I'll make it up to you.

---- May 22 ----

So, earlier I was working on changing the size of the previews and instead of firing a check every time previews was hovered and about to be shown[1], I decided to make it so it ran whenever a new session was added or removed, and control whether to re-scale it with a boolean, or two[2], because I thought that if it would run the same thing over and over again even though practically nothing changed, it might slow down performance.. or something I dunno, my gut told me to run it on add/remove

Basically, adding the check for adding was easy, I just check if the width of the preview wrapper overflows the window width and enable shrunken mode if so. Now, removing was not so easy

How? Well, I had this fucking mega complicated plan about storing the current scale values in an array, resetting the scales back to their original position and then check the width of the wrapper and then re-add the scales but christ this was so difficult. Here's the snippet of it

if (this.shrunkenPreviews) {
    const initialScales = this.sessions.map(session => session.previewWindow.firstChild.style.transform);
    console.log(initialScales);

    for (const session of this.sessions) {
        session.previewWindow.firstChild.style.transform = '';
    }

    const maxWidth = window.innerWidth;
    const { width } = this.previews.clientWidth;

    console.log(`width: ${width}, maxWidth: ${maxWidth}`);
    // if (width < maxWidth) {
    //     this.shrunkenPreviews = false;
    // }
}

Eh, yeah I'm not proud of it. This worked out fine in my head but in practice? Unless you closed the session on the window where the animation wouldn't happen visibly, the width was always lesser than maxWidth because it changed as soon as you clicked X on the preview wrapper and the shrink code runs while it's nuking sooo.. yeah this kinda fucking backfired badly

Then it hit me! Instead of complicated plans, I realized I could get the initial values another way! A non-shrunken preview has a width of 192px so I'll just take that and multiply it to the number of sessions and babam???

Hm yeah thinking about it now there's probably gonna be some sessions with width shorter due to scaling or whatever bullshit I'll have to account for as well. F. Well whatever I'll work on it later

[1] As in, checks if the current previews overflow the screen and needs to be shrunk
[2] First boolean checks if it's currently in shrunken mode, Second would check if it's currently the latest shrunken mode, ie shrunken mode will make it so it re-scales every time you hover, this will tell you to not bother rescaling, just show it, + 10 performance points?

------

Potentially turn this.shrunkenPreviews to this.previewState and then do a switch, 1 doesn't need to update UI, 2 updates UI, 0 is default unshrunken

---- June 3 ----

On OS resize, OS.previewLimit = Math.round(window.innerWidth / 116);

if (sessions > previewLimit) === Minimized;

---- June 17 ----

You may think you'll remember something because it's hard to miss or that you'll double check it at least once more before you consider it done but it's always better to write it down

---- June 27 ----

Apps - Line 459 (Or at least, 459 at the time of writing this)

It's the else if (!shownPreviews) line.

It's set so if it's minimized and I close enough, the next time previews show, it'll make sure to check if it needs updating

---- July 1 ----

Context menu top and bottom is taskbar, taskbar bottom, start top

    okay so the correct behavior is:
    almost everything you have but
    clicking on the icon as the preview is shown makes the window minimize or maximize while the preview hides after each click (you need to leave the icon area and hover again to make it appear)

---- August 2 ----

Apps - Line 285

const left = this.toolbarIcon.offsetLeft + 58 + 29; // Should be the same as getBoundingClientRect();

Because I thought getBoundingClientRect would be more costly than doing offsetLeft with an extra addition

The 58 comes from Start, who is not a part of taskbar

The 29 is half of 58, half of an app's toolbar icon so it's center of it

Taskbar - Line 295

58 + 29 = 58 = startIcon + center of this app aka half the width of it
96 = minimized preview's fixed width / 2
58 + 29 - 96 = -9

---- October 26 ----

So I had the idea for a memories app, I'm not sure what the icon will be. Maybe something nostaligic?

The concept is basically, the UI is a like a calender, but before the calender there's 3(?) years and the calender opens for those years.

Each date opens the highlights of a conversation on that day

Conversations will be stored in json format, I don't know in year form or month form, or month-year form, because I know even small snippets of conversations start to take up space especially if there is more than one highlight conversation in a day. And especially because there's 30 days lol

Ahhh let's see, format for actual logs might look like..

Shit I haven't even factored images. Nvm I don't have the images anyways, do I?

Pff all our convos are mostly text so I guess I don't need to worry about that too much

[
    [1, 'Hi', TIMESTAMP],
    [0, 'Sup', TIMESTAMP],
    [1, 'yo', TIMESTAMP]
]

Where 0 will always be me, and 1 will always be you cause you're #1. Then I don't need to worry about comparing strings. Timestamps seem unncessary but they could be a nice touch

mmm I guess I'll go by dates?

10-2018.json
{
    1: [],
    2: [],
    ...
    30: [],
    31: []
}

ehehehehehe yeah looks good

--

Startup log.

On startup, print everything to a text file, not just for .. purposes but mac has it too and it helps me know if something for some reason decided not to run, can debug easier.

STARTUP_LOG_01012021_000159.txt
STARTUP_LOG_DDMMYYYY_HHMMSS.txt

---- June 23 ----

Start menu clicking that hamburger thingy: HeartyHospitableIberianlynx.mp4
Start menu and hovering: EnviousElderlyAracari.mp4
Settings drop down: FancyPlasticDungbeetle.mp4
Toolbar context menu and mouse behavior : ZestyHelplessHyrax.mp4
Previews smooth transition between apps: LegalQueasyDore.mp4
Previews X doesn't disappear unless leave the icon when it's the last one left: UnrealisticBeautifulAgama.mp4
Previews X doesn't disappear unless leave the icon when it's the last one left but it doesnt affect more than if there's more than 1: ImmaculateCompleteAardwolf.mp4
Previews closing and some weird hover shinanigans: BiodegradableRadiantAmericanbadger.mp4
Previews closing: BlaringForcefulHeron.mp4
Previews clicking a lot: AlienatedBlushingBoaconstrictor.mp4
Previews when minimized goes up and down on click: MiserableAgitatedAmericanalligator.mp4
Previews when minimized goes up and down faster on hover and click: ThoseFancyAustrianpinscher.mp4
How previews are supposed to smoothly transition between hovers: CraftyInsignificantIberianlynx.mp4

---- June 27 ----

Tini'Torial (Short for tini tutorial)

First launch, tini will walk you through everything but it will force you to full screen and allow you to escape full screen at the end of the tutorial

Asks for your name, bans undertale related names with specific message dialogues
Anything containing "Doru", "Lauty" or "Kris" = The true name +20
Name hopefully is something pronounciable with mostly letters and no symbols or some numbers
If you fuck up your name too many times it will default to Doru and give 0 affection
Asks for you to full screen: ['Sure' +20, 'Fine, I guess' +10, 'Where\'s the third option?' +0]
Last option gives a cheeky tini saying "your cooperation is appreciated"
After that, walks you through everything, screen darkens and highlights specific areas of the screen
Start, favorite apps, recent apps and those can be configured, Desktop, Taskbar, cool "show desktop bar" at the bottom right, some sass like "in other words water is wet"
Tini then says they set a theme for you but if you don't like it you can configure it yourself
Once that's over with Tini shows you where to go if you need more help

"If you want to go through the tutorial again you can find it at `Users/{YOURNAME}/OS/Stages/Tutorial.act`

Maybe handle .act files specifically for those related to dialogue interactions

Right before Tini leaves, they give you an option to de-full screen, of which you're given three choices to raise tini's affection one last time

"Oh, one last thing before I leave, you can have your freedom back"
"Keep it" +20
"I'm good for now" +10
"Thanks" +5

Kind of like an RPG game, click anywhere or press anything to continue

Depending on the interaction you choose, you may gain Tini's favor and if Tini's favor bar is past a certain point right at the end of the tutorial you can unlock certain apps

This favor resets everytime the tutorial is played so you can't just farm it and each .act corresponds to a certain app maybe?

--

Time Well Spent
An app that looks like discord with every interaction we've ever had. PS, his server, my server, pins, DMs with me as the bot, my alts, everything.

---- June 29 ----

Accumulated wasted time
I'd really rather you just stop existing.
Once I'd noticed, I'd soon gotten sick of looking at the screen I'd been minding
Without this and without that too, it'd be so boring, so tedious, right
It'll just get a little lonely.
You haven't noticed? If you still haven't realized,
Then right, ok, then from the beginning, the one who was in love was only me.
Could I manage to laugh?

---- July 3 ----

AppState is migrated to Settings because it's not special enough to deserve its own class.

Also partially cuz I was stupid, thanks Pux

Previously, apps get the state the user saved for this app, if it doesn't exist, use the default and save that state.

Apps now instead hold only default values whether they should be docked on taskbar, pinned to the start menu or launched at startup but the user can overwrite this setting and apps can no longer see this.

--

I should find a way to handle duplicate apps, double run check, or make it so it replaces the older version of the app with the new one??

--

ok so minor issue i see why i had the old format now, those on taskbar aren't ALL pinned that's why there's taskbar state AND app state so you can differentiate which is a vistor and which is a permanent resident.

---- July 21 ----

Mixed signals

Dear Doru,

If it's all the same to you, I'd like to be on amicable terms again.

Sincerely, Robyn

--

Add versioning of apps so if there's 2 apps of the same kind, overwrite the previous with the new one if newver > oldver

--

Preview Limit
The max width/height the previews would be when shrunken, then divide accordingly
Ex when it's minimized cause you have too many to preview normally, 36 is the height of a single preview at all times
-48 because that's the size of the taskbar and it would be weird looking otherwise

---------------------------------------------------------------------------------------------------

- Apps
    - Terminal (Basically console)
    - Discord (Litcord)
    - Dfyd
    - Notes
    - MSPaint
    - Te amo
    - Para Él
    - Settings

TiniOS.

Animates like, a shrinking circle then splashes, buntini shows up but, not colored.

Window explanation:
| Maximized is full screen without the toolbar
| Windowed means it can have any size
| And you can move it around
| Minimized means it's not displayed

Maximize/Windowed view: https://i.vgy.me/5y8wEm.gif
Regular window view: https://cdn.discordapp.com/attachments/238354899291734017/813079380443922452/unknown.png
Start button menu: https://i.vgy.me/ElAATG.gif
Start button shutdown: https://i.vgy.me/00sHOa.gif
Start button + start typing search: https://i.vgy.me/qi2SDS.gif
Sessions: https://cdn.discordapp.com/attachments/238354899291734017/814442410468966420/unknown.png
Sessions giving up when there's too many: https://cdn.discordapp.com/attachments/238354899291734017/814442581747433512/unknown.png

Max 3 panel system with pure css:
- first of type | third last of type
- second of type | second last of type
- third of type | last of type

- first of type | second last of type
- second of type | last of type

- only of type | last of type

Formula to decided preview size:
Preview dimensions: 180 x 100 = 1.8
Window dimensions: w x h
a = w / h
b = a > 1.8 ? 180 / w : 100 / h
preview scale(b)

Legend:
[x] = Done
[*] = Scrapped
[?] = Status undecided / Will probably be scrapped
[~] = Pending
[&] = Comment

Todo:
[x] Draggable windows
[x] Resizable windows
[x] Panel preview
[x] Panel events to unminimize
[x] Apparently toolbar is really called  taskbar
[?] Potentially give sessions ids, instead of checking indexOf
    [&] Ids = new Date().getTime();
[x] Settings panel
    [x] Brightness
    [x] Sound
        [&] Ex music player sound will be 100 * maxGlobalVolume
    [x] Theme (ofc)
[x] Custom context menu options
[?] Rework the resize so it's less rigid.
    [*] Sub task: Merge Resize and Draggable's window global property to one, to reduce redundancy somehow
[ ] Search
    [&] Filters Apps, and other misc programs, files maybe?
    [&] Turns to a white textarea on focus, like discord
[*] Cut down the css lines by reusing .flex, .center, .center-x and .center-y everywhere, remove duplicate lines.
[ ] File component, { extension, openWith, data }
[ ] Cursor: pointer at everything appropriate
[x] Recent apps, and those pinned to the start menu, order is pinned first, then recent, and all programs below
    [x] Recent app context: [ Open | Pin to Taskbar, Pin to Start Menu | Remove from this list ]
    [x] Start context: [ Open, Open file location, Pin to Taskbar, Pin to Start Menu | Rename | Properties ]
[x] Make taskbar context global, along with its fix functions so each app won't have individual context menus
[x] Pin functions, start menu, taskbar
[x] Merge context menu and use && to decide which type it is
[x] Make Taskbar components export default instead of export default Taskbar
[x] Create state management, db or smth.
[~] Figure out a way to loop through an object's properties and nesting and shit
[ ] Give each app its own i18n because I like torturing myself with tasks I can't easily accomplish
[ ] Global theme (light/dark)
    [&] Maybe :root variables for light and dark and just use those.. idfk
[x] Add icon option to Inputs/Range
[ ] Reset SETTINGS command, not PC, preferably in Settings > About
[ ] Then a reset PC command, restore all defaults
[x] Add mousedown events directly to session, no need to put them on client
[x] Aux click, on titlebar close it. e.button === 1 this.close();
[x] Latest sessions. On any session click this.app.latestSession = this; Used to bring to front the latest session you were on when clicking the app
[x] Close any session will make it focus on the last un-minimized session and app
[x] Possibly remove indvidual panels on taskbar so it animates better and leave it to the app to manage it?
[x] Fix that bug when you close using x, it makes the preview appear for a split second
[ ] Preview settings (as a header)
    [ ] Scroll interval (ms)
    [ ] Scroll animation
    [ ] Hover slightly above taskbar
[ ] Minimized window doesn't have active style
[ ] Minimize animation
[x] Revise moving the apps because it moves the right taskbar slightly
[x] Remove updatedPreviews entirely because it basically runs almost every time regardless
[ ] Find out a way to re-implement the old stacking previews, where it'd look for a missing number and fill it in
[x] Fix the issue where if you release an app while dragging to the right it will move the right side of the taskbar
[ ] App state persistent, what part of the app, the state of the app when it was closed, or if the pc 'force shut down', etc
[ ] Make it so start rebuilds the .main-content instead of toggling display: none
[*] The back option in settings does not work as intended
[x] When you expand another app in settings > apps & features it should auto-collapse opened one
[x] Start menu context menu should persist even if you hover mouse pointer off it
[ ] Search on taskbar and start menu are non-functional
[x] Start sidebar menu can also be forcibly toggled by clicking menu
[ ] Account button doesn't work
[x] Peek lacks delay
    It doesn't instantly give you preview of desktop, need to hover over it for a second
[ ] Date and time settings don't have formatting option
[x] Clicking on settings in the menu doesn't close menu
    Clicking on settings in menu minimizes the settings window if it is already open; unintended, should make settings the active window
    And also close start
[ ] Potentially move click events in client to their respective elements, adding a once event listener to close them on show()

Styles:
[ ] Correctly style previews

Production:
[ ] Remove active window highlight (Sessions.js - bringToFront)
[ ] Context menu is supposed to close each time you click on an item
